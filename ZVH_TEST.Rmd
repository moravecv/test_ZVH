---
title: "ZVH Zápoètový TEST "
subtitle: "Varianta `r params$varianta`"
author: ""
header-includes: 
- \usepackage{fancyhdr}
- \pagestyle{fancy}
- \fancyhf{}
- \chead{Jméno a pøíjmení:}
- \lhead{Varianta `r params$varianta`}
- \usepackage{float}
- \usepackage{graphics}
date: "`r format(Sys.time(), '%d %B %Y')`"
output: pdf_document
params:
  n: 1
  d: !r Sys.Date()
  varianta: A
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)
options(OutDec = ",")
```

## Slepá mapa (15 bodù)
```{r, echo = FALSE}
vsechny_reky <- c("Kamenice",
          "Smìdá",
          "Lužická Nisa",
          "Plouènice",
          "Kamenice",
          "Labe",
          "Bílina", 
          "Chomutovka", 
          "Ohøe",
          "Liboc",
          "Úpa", 
          "Metuje", 
          "Jizera", 
          "Mrlina", 
          "Cidlina", 
          "Bystøice",
          "Orlice",
          "Tichá Orlice",
          "Teplá",
          "Støela",
          "Rakovnický potok",
          "Lodìnice",
          "Litavka", 
          "Berounka",
          "Vltava",
          "Mže",
          "Rokytka",
          "Výrovka", 
          "Želivka", 
          "Radbùza",
          "Úhlava",
          "Úslava",
          "Lomnice",
          "Otava", 
          "Køemelná",
          "Volyòka",
          "Blanice",
          "Doubrava",
          "Doubrava",
          "Louèná",
          "Chrudimka",
          "Moravská Sázava",
          "Tøebùvka",
          "Morava",
          "Sázava",
          "Malše",
          "Lužnice",
          "Nežárka",
          "Moravská Dyje",
          "Rokytná",
          "Jihlava",
          "Oslava",
          "Dyje",
          "Svratka",
          "Svratka",
          "Svitava",
          "Osoblaha",
          "Bìlá",
          "Opava",
          "Moravice",
          "Odra",
          "Olše",
          "Haná",
          "Beèva",
          "Ostravice",
          "Rožnovská Beèva",
          "Vsetínská Beèva",
          "Olšava",
          "Vlára", 
          "Morava")
vsechny_nadrze <- c("Jirkov", 
                    "Fláje",
                    "Josefùv Dùl",
                    "Labská",
                    "Rozkoš",
                    "Nechranice",
                    "Máchovo jezero",
                    "Žlutice",
                    "Hracholusky",
                    "Nýrsko",
                    "Vrané",
                    "Štìchovice",
                    "Slapy",
                    "Kamýk",
                    "Orlík",
                    "Koøensko",
                    "Hnìvkovice",
                    "Lipno I.",
                    "Lipno II.",
                    "Bezdrev",
                    "Øímov",
                    "Svìt",
                    "Rožmberk",
                    "Staòkovský rybník/rybník Hejtman",
                    "Želivka - Švihov",
                    "Pastviny",
                    "Slezská Harta",
                    "Kružberk",
                    "Šance",
                    "Seè",
                    "Vír",
                    "Brnìnská pøehrada",
                    "Vranov",
                    "Nové Mlýny")
vybrane_reky <- sample(vsechny_reky, 10)
vybrane_nadrze <- sample(vsechny_nadrze, 5)
```


Zaneste do slepé mapy následující øeky: \par 
*`r vybrane_reky`.*
\par 
Dále v mapì vyznaète tyto nádrže: \par 
*`r vybrane_nadrze`*
\begin{figure}[h!]
  \makebox[\textwidth]{\includegraphics[width = \textwidth, angle = -90]{Slepa_mapa_reky_nadrze.pdf}}
\end{figure}

## Pøíklad 1 (7 bodù)
```{r echo = FALSE}
PR1 <- list()
PR1$A1 <- round(runif(1, 4, 14), 0)
PR1$Hs1 <- round(runif(1, 400, 900), 0)
PR1$Qa1 <- round(runif(1, 40, 90), 0)
```

Výpoèítejte odtokový souèinitel $\varphi$ v povodí o velikosti $A$ = `r PR1$A1` km$^{2}$, kde roèní úhrn srážek je $H_S$ = `r PR1$Hs1` mm
a prùmìrný roèní prùtok v uzávìrovém profilu povodí je $Q_a$ = `r PR1$Qa1` l$\cdot s$^{-1}$
\vskip5cm

## Pøíklad 2 (7 bodù)

`r if(params$varianta == "A"){"##Pøíklad 2 \nVypoèítejte mìsíèní bilanci \n\n$ $\n"}`


<!-- ```{r, if (params$varianta == "A"){}, show.text = TRUE}  -->
<!-- print("yes") -->

<!-- ``` -->


## Pøíklad 3 (7 bodù)
```{r, echo = FALSE}
# Generování zadání rovnice kontinuity
PR3 <- list()
PR3$Q1 <- round(runif(1, min = 0.1, max = 10), 2) # prùmìr v cm2
PR3$v1 <- round(runif(1, min = 0.5, max = 4), 2)
PR3$D1 <- round(runif(1, min = 0.5, max = 4), 2)

PR3$Q2 <- round(runif(1, min = 0.1, max = 10), 2) # prùmìr v cm2
PR3$v2 <- round(runif(1, min = 0.5, max = 4), 2)
PR3$D2 <- round(runif(1, min = 0.5, max = 4), 2)

PR3$Q3 <- round(runif(1, min = 0.1, max = 10), 2) # prùmìr v cm2
PR3$v3 <- round(runif(1, min = 0.5, max = 4), 2)
PR3$D3 <- round(runif(1, min = 0.5, max = 4), 2)

PR3$Q4 <- round(runif(1, min = 0.1, max = 10), 2) # prùmìr v cm2
PR3$v4 <- round(runif(1, min = 0.5, max = 4), 2)
PR3$D4 <- round(runif(1, min = 0.5, max = 4), 2)
```

Potrubím protéká voda. Dopoèítejte hodnoty ve tøech mìøících profilech $S_1$ = `r PR3$Q1` cm$^{2}$. Uvažujte ideální kapalinu.   

|           Profil          | 1           | 2         | 3          | 4          |   
|:--------------------------|------------:|----------:|-----------:|-----------:|   
| v (m$\cdot$ s $^{-1}$)    | `r PR3$v1`  |           | `r PR3$v3` |  1/3 v$_3$ |   
| Q (l$\cdot$ s $^{-1}$)    | `r PR3$Q1`  | `r PR3$Q2`| `r PR3$Q3` |  Q$_2$/4   |   
| D (cm)                    |             | `r PR3$D2`| 2D$_2$     | `r PR3$D4` |       
| S (cm$^{2}$)              |             |           |            |            |    

\vskip10cm    

## Pøíklad 4 (7 bodù)
```{r, echo = FALSE}
PR4 <- list()
PR4$Q1 <- round(runif(1, 40, 90), 0)
PR4$c1 <- round(runif(1, 0.001, 0.010), 3)
PR4$Q2 <- round(runif(1, 1, 9), 0)
PR4$c2 <- round(runif(1, 0.010, 0.050), 3)
```

V pozorovaném místì byl v øece namìøen prùtok $Q_1$ = `r PR4$Q1` l$\cdot$ s$^{-1}$ a zjištìna koncentrace kontaminaèní látky $c_1=$ `r PR4$c1`  mg$\cdot$ l$^{-1}$. Dále po toku do nìj vstupuje výpust $Q_2$ = `r PR4$Q2` l$\cdot$ s$^{-1}$ s koncentrací $Q_2=$ `r PR4$c2` mg$\cdot$ l$^{-1}$. Vypoèítejte celkovou koncetraci látky za soutokem.
\vskip5cm

## Pøíklad 5 (7 bodù)
```{r, echo = FALSE}
# objem nádrže
objem <- round(runif(1, 100, 300), 0)
stav <- sample(c("prázdná", "plná"), 1)
plocha <- round(runif(1, 10, 30), 0)
rocni_vypar <- round(runif(1, 100, 900), 0)
XI_Qin <- round(runif(1, 20, 60), 0)
XII_Qin <- round(runif(1, 20, 60), 0)
I_Qin <- round(runif(1, 20, 60), 0)

XI_ET <- round(runif(1, 1, 4), 1)
XII_ET <- round(runif(1, 1, 3), 1)
I_ET <- round(runif(1, 1, 2), 1)

Qmin <- round(runif(1, 5, 10), 0)
```

Vypoèítejte bilanci vodní nádrže o objemu `r paste(objem,"000", sep = " ")` m$^{3}$ s plochou vodní hladiny `r paste(plocha,"000", sep = " ")` m$^{2}$. Když byla na zaèátku roku `r stav`. Uvažujte roèní výpar `r rocni_vypar` mm.

|  mìsíc                                | XI         | XII         |          I |   
|---------------------------------------|------------|-------------|------------|   
| pøítok (l$\cdot$ s$^{-1}$)            | `r XI_Qin` | `r XII_Qin` | `r I_Qin`  |   
| pøítok (m$^3$)                        |            |             |            |   
| výpar (l$\cdot$ s$^{-1}$)             |            |             |            |   
| výpar (m$^3$)                         |            |             |            |   
| výpar (%)                             | `r XI_ET`  | `r XII_ET`  | `r I_ET`   |   
| min. zùst. prùtok (l$\cdot$ s$^{-1}$) | `r Qmin `  | `r Qmin `   | `r Qmin `  |







\newpage
## Výsledky
#### Pøíklad 1
```{r, echo = FALSE}
PR1_res <- list()
PR1_res$phi <- (PR1$Qa1 * 1e-03 * 60 * 60 * 24 * 365) / (PR1$A1 * 1e+06 * PR1$Hs1 * 1e-03) 
```
Odtokový souèinitel je $\varphi$ = `r round(PR1_res$phi, 2)`.


#### Pøíklad 2   
```{r}

```

#### Pøíklad 3   
#### Pøíklad 4  
```{r, echo = FALSE}
PR4_res <- list()
PR4_res$cv <- (PR4$Q1 * PR4$c1 + PR4$Q2 + PR4$c2) / (PR4$Q1 + PR4$Q2)
```
Koncentrace po soutoku je rovna $c$ = `r round(PR4_res$cv, 3)` mg$\cdot$ l$^{-1}$. 

#### Pøíklad 5   



